'use strict';

exports.__esModule = true;

var _SERVE_COMMANDS;

exports.default = serve;

var _constants = require('../constants');

var _errors = require('../errors');

var _getUserConfig = require('../getUserConfig');

var _getUserConfig2 = _interopRequireDefault(_getUserConfig);

var _serveInfernoApp = require('./serve-inferno-app');

var _serveInfernoApp2 = _interopRequireDefault(_serveInfernoApp);

var _servePreactApp = require('./serve-preact-app');

var _servePreactApp2 = _interopRequireDefault(_servePreactApp);

var _serveReactApp = require('./serve-react-app');

var _serveReactApp2 = _interopRequireDefault(_serveReactApp);

var _serveReactDemo = require('./serve-react-demo');

var _serveReactDemo2 = _interopRequireDefault(_serveReactDemo);

var _serveWebApp = require('./serve-web-app');

var _serveWebApp2 = _interopRequireDefault(_serveWebApp);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SERVE_COMMANDS = (_SERVE_COMMANDS = {}, _SERVE_COMMANDS[_constants.INFERNO_APP] = _serveInfernoApp2.default, _SERVE_COMMANDS[_constants.PREACT_APP] = _servePreactApp2.default, _SERVE_COMMANDS[_constants.REACT_APP] = _serveReactApp2.default, _SERVE_COMMANDS[_constants.REACT_COMPONENT] = _serveReactDemo2.default, _SERVE_COMMANDS[_constants.WEB_APP] = _serveWebApp2.default, _SERVE_COMMANDS);

/**
 * Generic serve command, invokes the appropriate project type-specific command.
 */
function serve(args, cb) {
  var userConfig = (0, _getUserConfig2.default)(args, { required: true });
  if (!SERVE_COMMANDS[userConfig.type]) {
    return cb(new _errors.UserError('Unable to serve anything for a ' + userConfig.type + ' project.'));
  }
  SERVE_COMMANDS[userConfig.type](args, cb);
}
module.exports = exports['default'];